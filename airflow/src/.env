# airflow/src/.env
# Kafka
KAFKA_BOOTSTRAP_SERVERS=broker:29092
KAFKA_TOPIC_ITS_TRAFFIC_RAW=its_traffic_raw

# MinIO / S3 compatible storage
MINIO_ENDPOINT=minio:9000
MINIO_ACCESS_KEY=minio
MINIO_SECRET_KEY=miniostorage
MINIO_BUCKET=its
MINIO_SECURE=false

# Datalake paths
INGESTION_LAKE_PREFIX=traffic/raw
DATALAKE_RAW_PATH=s3a://its/traffic/raw
DATALAKE_BRONZE_PATH=s3a://its/traffic/bronze
DATALAKE_SILVER_PATH=s3a://its/traffic/silver
DATALAKE_GOLD_PATH=s3a://its/traffic/gold

# Ingestion defaults
INGESTION_URL_TEMPLATE=https://www.its.go.kr/opendata/fileDownload/traffic/{year}/{date}_5Min.zip
INGESTION_JOB_NAME_PREFIX=its_traffic_5min

# Postgres (Gold + training source)
PG_HOST=postgres
PG_PORT=5432
PG_DB=mlops
PG_USER=postgres
PG_PASSWORD=postgres
ITS_TRAFFIC_GOLD_TABLE=its_traffic_5min_gold

# Training defaults
TRAINING_JOB_NAME=its_traffic_5min_convlstm
TRAINING_WINDOW_DAYS=1
TRAINING_VAL_DAYS=30
TRAINING_SEQ_LEN=36
TRAINING_PRED_HORIZON=1
TRAINING_BATCH_SIZE=64
TRAINING_EPOCHS=50
TRAINING_LR=0.001
TRAINING_GRAD_CLIP=1.0
TRAINING_MINIO_BUCKET=model
TRAINING_MINIO_PREFIX=its/traffic/its_traffic_convlstm
MLFLOW_EXPERIMENT_NAME=its_traffic_convlstm
MLFLOW_TRACKING_URI=http://mlflow:5000

# DAG tuning
ITS_DAG_SCHEDULE=@daily
AIRFLOW_ITS_START_DATE=2025-11-01
CATCHUP_ENABLED=false
ITS_DAG_MAX_ACTIVE_RUNS=1